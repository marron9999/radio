<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta http-equiv="x-ua-compatible" content="IE=Edge">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Radio - Scratch</title>
<style>
body > .em1 {
	margin-left:1em;
}
ul.mt > li {
	margin-top:10px;
}
</style>
</head>
<body>
<div class=em1><b>Scratch拡張機能：無線の会話インタフェース</b></div>
<ul>
<li>バンドは 0 から 78 まで自由に使えます<br>
バンド 79 は オウム返し で利用しています<br>
バンド 80 は スタートレック で利用しています<br>
バンド 81 は オセロ で利用しています<br>
バンド 82 は Hig-Low で利用しています<br>
バンド 83 は 3D迷路 で利用しています</li>

<li>各バンドごとにグループがあり、グループは 0 から 255 まで使えます</li>
<li>バンドは「band 数字」を送信すると変更できます</li>
<li>グループは「group 数字」を送信すると変更できます</li>
<li>送信できるものは、数値、文字列、データです
<ul>
<li>数値は「N:数値」を送信します</li>
<li>文字列は「S:文字列」を送信します</li>
<li>データは「V:名前=数値」を送信します</li>
</ul></li>
<li>送信すると、バンド・グループにいる他者（Scratch拡張機能：無線）はその内容を受信できます<br>
補足：自分が送信したものは、自分は受信できません</li>
<li>上記以外の形式で送信することもできますが、Scratch拡張機能：無線で正しく受信できません</li>
<li>以下の文字列で始まるものは特別な用途で使われます（利用しないでください）<br>
title<br>
monitors<br>
clients<br>
users</li>
</ul>

<div class=em1><b>Scratch拡張機能：無線(Radio)</b><br>
<img src=radio/radio.png width=200></div>
<ul class=mt>

<li><b>文字列[VALUE]を送信する</b><br>
<img src=radio/radio_sendtext.png><br>
文字列(指定したVALUE)を送信します
</li>
<li><b>数値[VALUE]を送信する</b><br>
<img src=radio/radio_sendnumber.png><br>
数値(指定したVALUE)を送信します
</li>
<li><b>データ[NAME]=[VALUE]を送信する</b><br>
<img src=radio/radio_senddata.png><br>
データ（指定したNAME=VALUE)を送信します
</li>

<li><b>受信したとき</b><br>
<img src=radio/radio_isrecived.png><br>
数値、文字列、データのいずれかを受信した場合、真 を返します<br>
いずれも受信していない場合、偽 を返します
</li>
<li><b>受信した形式</b><br>
<img src=radio/radio_recivedtype.png><br>
受信したものが数値の場合、「N」を返します<br>
受信したものが文字列の場合、「S」を返します<br>
受信したものがデータの場合、「V」を返します<br>
いずれも受信していない場合、空文字列 を返します
</li>
<li><b>受信した文字列</b><br>
<img src=radio/radio_recivedtext.png><br>
受信した文字列を返します<br>
受信が文字列でない場合、空文字列を返します
</li>
<li><b>受信した数値</b><br>
<img src=radio/radio_recivednumber.png><br>
受信した数値を返します<br>
受信が数値でない場合、-1 を返します
</li>
<li><b>受信したデータ</b><br>
<img src=radio/radio_reciveddata.png><br>
受信したデータを「名前=値」という文字列で返します<br>
受信がデータでない場合、空文字列を返します
</li>

<li><b>データ[DATA]の名前部</b><br>
<img src=radio/radio_partname.png><br>
データから名前部（=の左側）の文字列を返します<br>
データに = が含まれていない場合、空文字列を返します
</li>
<li><b>データ[DATA]の値部</b><br>
<img src=radio/radio_partvalue.png><br>
データから値（=の右側）の数値を返します<br>
データに = が含まれていない場合、-1 を返します
</li>

<li><b>文字列[VALUE]の[DLM]で区切った[INDEX]番目</b><br>
<img src=radio/radio_partindex.png><br>
文字列[VALUE]を｢DLM]で区切り、指定した何番目の文字列を返します<br>
例）[A B C]を｢ ]で区切り[1]番目→[A]<br>
返す文字列がない場合、空文字列を返します
</li>
<li><b>文字列[VALUE]の[INDEX]番目より前の文字列</b><br>
<img src=radio/radio_partbefore.png><br>
文字列[VALUE]の指定した何番目より前の文字列を返します<br>
例）[A B C]の[3]番目より前→[A ]<br>
返す文字列がない場合、空文字列を返します
</li>
<li><b>文字列[VALUE]の[INDEX]番目からの文字列</b><br>
<img src=radio/radio_partafter.png><br>
文字列[VALUE]の指定した何番目からの文字列を返します<br>
例）[A B C]の[3]番目から→[B C]<br>
返す文字列がない場合、空文字列を返します
</li>

<li><b>グループを[GROUP]にする</b><br>
<img src=radio/radio_setgroup.png><br>
利用するグループを 0 ～ 255 に設定します
</li>
<li><b>バンドを[BAND]にする</b><br>
<img src=radio/radio_setband.png><br>
利用するバンドを 0 ～ 83 に設定します<br>
「バンドを[BAND]にする」を実行しないと無線はつかえません<br>
「バンドを[BAND]にする」を実行すると指定したバンドのグループ 0 につながります
</li>

<li><b>固有名</b><br>
<img src=radio/radio_devicename.png><br>
通信時に割り当てられた固有名を返します<br>
固有名は、IPV4アドレスと識別値を表した文字列です
</li>
<li><b>シリアル番号</b><br>
<img src=radio/radio_deviceserial.png><br>
通信時に割り当てられたシリアル番号を返します<br>
シリアル番号は、固有名を数値で表現したものです
</li>

<li><b>再描画モード[MODE]</b><br>
<img src=radio/radio_redrawmode.png><br>
ペン機能等を連続して使うとき描画するか、しないか<br>
0 : 描画しない<br>
0以外 : 描画する（0以外を指定して実行すると描画しなおします）
</li>
</ul>
</body>
</html>
